matrix world;
matrix viewproj;

struct VS_INPUT
{
	vector position : POSITION;
};

struct VS_OUTPUT
{
	vector position : POSITION;
    vector depth    : TEXCOORD;
};

VS_OUTPUT main(VS_INPUT input)
{
	VS_OUTPUT output = (VS_OUTPUT)0;

	output.position = mul(input.position, mul(world, viewproj));
    output.depth = vector(1 - (output.position.z / output.position.w), 0, 0, 0);

	return output;
}
